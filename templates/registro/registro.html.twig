{% extends 'base.html.twig' %}

{% block title %}Registro | {{ parent() }}{% endblock %}

{% block body %}

    {% include '_header.html.twig' %}

    <main class="flex-grow-1" id="mainRegistro">
        <!-- Sección de Registro -->
        <section class="container-fluid text-center py-5" style="background-color: hsla(340, 84%, 94%, 0.7);">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <h2>Regístrate</h2>
                    <form action="#" method="post">
                        <!-- Campo de selección: Persona o Empresa -->
                        <div class="form-group mb-3">
                            <label>Tipo de cuenta:</label>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="tipoCuenta" id="persona"
                                       value="persona" checked>
                                <label class="form-check-label" for="persona">Persona</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="tipoCuenta" id="empresa"
                                       value="empresa">
                                <label class="form-check-label" for="empresa">Empresa</label>
                            </div>
                        </div>

                        <!-- Campos del formulario -->
                        <div class="form-group mb-3">
                            <input type="text" class="form-control" placeholder="Nombre completo" name="nombre"
                                   required>
                        </div>
                        <div class="form-group mb-3">
                            <input type="email" class="form-control" placeholder="Correo electrónico" name="email"
                                   required>
                        </div>
                        <div class="form-group mb-3">
                            <input type="password" class="form-control password" placeholder="Contraseña" name="password"
                                   required>
                        </div>
                        <div class="form-group mb-3" style="position: absolute; left: 500px">
                            <input type="checkbox" onclick="mostrarPassword()" style="width: 10px !important;"> Mostrar
                            contraseña
                        </div>
                        <br/><br/>
                        <div class="form-group mb-3">
                            <input type="password" class="form-control password" placeholder="Confirmar contraseña"
                                   name="passwordConfirmar" required>
                        </div>
                        <div class="form-group mb-3" style="position: absolute; left: 500px">
                            <input type="checkbox" onclick="mostrarPassword()" style="width: 10px !important;"> Mostrar
                            contraseña
                        </div>
                        <br/>

                        <!-- Campos adicionales para empresas (ocultos por defecto) -->
                        <div id="camposEmpresa" style="display: none;">
                            <div class="form-group mb-3">
                                <input type="text" class="form-control" placeholder="Nombre de la empresa"
                                       name="nombreEmpresa">
                            </div>
                            <div class="form-group mb-3">
                                <input type="text" class="form-control" placeholder="NIF/CIF" name="nifCif">
                            </div>
                        </div>

                        <button type="submit" class="custom-btn">Registrarse</button>
                    </form>
                    <p class="mt-3">¿Ya tienes una cuenta? <a href="login">Inicia sesión aquí</a></p>
                </div>
            </div>
        </section>

        {% include 'components/modal.html.twig' %}

    </main>

    {% include '_footer.html.twig' %}

    {% block javascripts %}
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const tipoCuentaPersona = document.getElementById('persona');
                const tipoCuentaEmpresa = document.getElementById('empresa');
                const camposEmpresa = document.getElementById('camposEmpresa');

                tipoCuentaPersona.addEventListener('change', function () {
                    camposEmpresa.style.display = 'none';
                });

                tipoCuentaEmpresa.addEventListener('change', function () {
                    camposEmpresa.style.display = 'block';
                });
            });

            function mostrarPassword() {
                var password = document.getElementsByClassName('password');
                if (password.type === 'password') {
                    password.type = 'text';
                } else {
                    password.type = 'password';
                }
            }
        </script>
    {% endblock %}

{% endblock %}